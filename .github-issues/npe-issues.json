{
  "epics": [
    {
      "title": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "# Narrative Physics Engine (NPE) Integration\n\n## Overview\nImplement the complete Narrative Physics Engine system that treats stories as simulations with enforced physics rules. This shifts from \"prompt engineering\" to \"narrative systems engineering.\"\n\n## Three Core Layers\n1. **Narrative Physics Engine (NPE)** - Causality, pacing, scene rules, tension, information flow\n2. **Character System** - Behavioral palettes (V1-V4), decision consistency, stateful agents  \n3. **Relationship Architecture** - Bidirectional tension axes between character pairs\n\n## Architecture\n```\nGenre Packs (NPE Rules) â†’ MCPs (NPE State) â†’ Dashboards (NPE Visualization) â†’ Agents (NPE Execution)\n```\n\n## Related Repositories\n- **BQ-Studio** (this repo): NPE visualizations, Genre Pack rules, UI integration\n- **MCP-Writing-Servers**: NPE database schema, MCP server tools, validation\n- **MCP-Electron-App**: No changes needed (just runs the servers)\n\n## Implementation Phases\n\n### Phase 1: Genre Pack NPE Rules âœ… Planned\n- Add NPE rules to urban-fantasy-procedural genre pack\n- Create 10 NPE rule category JSON files  \n- Document NPE rule schema\n\n### Phase 2: MCP Infrastructure ğŸ”„ In Progress\nSee issues in [MCP-Writing-Servers](https://github.com/RLRyals/MCP-Writing-Servers/issues)\n- NPE database schema (9 tables)\n- NPE MCP server tools (40+ tools)\n- NPE validation hooks\n\n### Phase 3: NPE Visualizations (10 Dashboards)\n- [x] Tension Axis Graph (DONE!)\n- [ ] Causality Chain Visualizer\n- [ ] Character State Tracker (V1-V4)\n- [ ] Decision Tree Visualizer\n- [ ] Pacing Analyzer\n- [ ] Information Flow Graph\n- [ ] POV Bias Tracker\n- [ ] Dialogue Physics Monitor\n- [ ] Stakes/Pressure Gauge\n- [ ] NPE Compliance Scorecard\n\n### Phase 4: Integration\n- Wire Tension Graph to MCP data\n- Create unified NPE Dashboard component\n- Integrate agents with NPE validation\n- Add NPE compliance to review/QA workflow\n\n## Success Criteria\n- âœ… Can track complete causality chains (decision â†’ outcome)\n- âœ… Can validate character decisions against traits\n- âœ… Can detect deus ex machina violations\n- âœ… Can validate scene architecture (intentionâ†’obstacleâ†’pivotâ†’consequence)\n- âœ… Can calculate overall NPE compliance score\n- âœ… Agents generate prose within NPE physics constraints\n\n## Resources\n- NPE v1.0 Specification (internal docs)\n- Genre Pack Documentation: `.claude/genre-packs/README.md`\n- MCP Schema Documentation: (to be created in MCP-Writing-Servers)",
      "labels": ["epic", "npe", "enhancement"]
    }
  ],
  "issues": [
    {
      "title": "Add NPE rules to urban-fantasy-procedural genre pack",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nCreate NPE physics rule files for the `urban-fantasy-procedural` genre pack. These rules define the \"story physics\" that govern how narratives work in this genre.\n\n## Tasks\n- [ ] Create `npe-physics/` directory structure\n- [ ] Create `plot-mechanics.json` (causality, no deus ex machina)\n- [ ] Create `character-logic.json` (decision consistency, incomplete info)\n- [ ] Create `pacing-temporal.json` (time expansion/compression rules)\n- [ ] Create `scene-architecture.json` (intentionâ†’obstacleâ†’pivotâ†’consequence)\n- [ ] Create `dialogue-physics.json` (no echolalia, subtext required)\n- [ ] Create `pov-physics.json` (subjective bias, misreading)\n- [ ] Create `transitions-flow.json` (scene transition rules)\n- [ ] Create `information-economy.json` (reveals must alter choices)\n- [ ] Create `stakes-pressure.json` (escalation mechanics)\n- [ ] Create `offstage-narrative.json` (off-screen event handling)\n- [ ] Create `character-systems/behavioral-palettes.json` (V1-V4 evolution)\n- [ ] Create `relationship-architecture/tension-axes.json` (bidirectional tension)\n- [ ] Document NPE rule schema in genre pack README\n\n## Acceptance Criteria\n- All 10 NPE rule categories implemented as JSON files\n- Rules are genre-specific (tailored for detective/procedural stories)\n- JSON schema is valid and documented\n- Files follow existing genre pack structure\n\n## Files to Create\n```\n.claude/genre-packs/urban-fantasy-procedural/\nâ”œâ”€â”€ npe-physics/\nâ”‚   â”œâ”€â”€ plot-mechanics.json\nâ”‚   â”œâ”€â”€ character-logic.json\nâ”‚   â”œâ”€â”€ pacing-temporal.json\nâ”‚   â”œâ”€â”€ scene-architecture.json\nâ”‚   â”œâ”€â”€ dialogue-physics.json\nâ”‚   â”œâ”€â”€ pov-physics.json\nâ”‚   â”œâ”€â”€ transitions-flow.json\nâ”‚   â”œâ”€â”€ information-economy.json\nâ”‚   â”œâ”€â”€ stakes-pressure.json\nâ”‚   â””â”€â”€ offstage-narrative.json\nâ”œâ”€â”€ character-systems/\nâ”‚   â””â”€â”€ behavioral-palettes.json\nâ””â”€â”€ relationship-architecture/\n    â””â”€â”€ tension-axes.json\n```",
      "labels": ["npe", "genre-pack", "enhancement", "phase-1"]
    },
    {
      "title": "Build Causality Chain Visualizer",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nCreate an interactive flow diagram that visualizes cause-and-effect chains in the narrative. Shows how character decisions lead to consequences, and highlights NPE violations (deus ex machina, missing character agency).\n\n## Component\n`src/renderer/components/npe/CausalityChainGraph.tsx`\n\n## Features\n- **Node types:**\n  - Blue nodes = Character decisions\n  - Green nodes = Consequences from character actions\n  - Red nodes = Violations (effects without character agency)\n- **Arrow types:**\n  - Solid green arrows = Direct causality\n  - Dashed yellow arrows = Delayed causality\n  - Red X = Broken causality chain\n- **Interactive:**\n  - Click node to see details\n  - Hover to see alternatives considered\n  - Filter by character, chapter, plot thread\n- **Data source:** MCP `npe_causality_chains` and `npe_causal_links` tables\n\n## Tasks\n- [ ] Create component structure\n- [ ] Implement node rendering (character decisions, consequences, violations)\n- [ ] Implement arrow rendering with causality types\n- [ ] Add interactivity (hover, click, filter)\n- [ ] Connect to MCP data via store\n- [ ] Add to NPE Dashboard\n- [ ] Style with Tailwind to match existing design\n\n## Acceptance Criteria\n- Displays complete causality chains from decision â†’ outcome\n- Highlights violations in red (missing character agency)\n- Interactive and filterable\n- Integrates with MCP data\n- Matches app design system",
      "labels": ["npe", "visualization", "enhancement", "phase-3"]
    },
    {
      "title": "Build Character State Tracker (V1-V4)",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nVisualize character evolution through four arc versions (V1-V4) over the course of the story. Shows behavioral palette changes, wound progression, and decision pattern shifts.\n\n## Component\n`src/renderer/components/npe/CharacterStateTracker.tsx`\n\n## Features\n- **Timeline view:** Shows character progression through story\n- **Version markers:** V1 (beginning) â†’ V2 (midpoint) â†’ V3 (climax) â†’ V4 (aftermath)\n- **State indicators:**\n  - Active behavioral palette (anxiety, attraction, anger, etc.)\n  - Context state (baseline, mild stress, extreme stress)\n  - Wound healing progress\n- **Transition triggers:** What event triggered version change\n- **Multi-character:** Compare multiple characters' arcs\n\n## Tasks\n- [ ] Create component structure\n- [ ] Implement timeline visualization\n- [ ] Add version markers and transitions\n- [ ] Show behavioral palette states\n- [ ] Add character comparison view\n- [ ] Connect to MCP `npe_character_decisions` table\n- [ ] Add to NPE Dashboard\n\n## Acceptance Criteria\n- Shows V1-V4 progression for characters\n- Displays behavioral palette changes\n- Shows transition triggers\n- Supports multi-character comparison",
      "labels": ["npe", "visualization", "enhancement", "phase-3"]
    },
    {
      "title": "Build Decision Tree Visualizer",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nVisualize character decisions with their 2-3 plausible alternatives. Shows what the character chose and why, plus what they could have done instead.\n\n## Component\n`src/renderer/components/npe/DecisionTreeVisualizer.tsx`\n\n## Features\n- **Decision nodes:** Major character choices\n- **Alternative branches:** The 2-3 roads not taken\n- **Alignment indicators:** How decision aligns with goals/fears/wounds\n- **Consequence preview:** What happened because of this choice\n- **\"What if\" mode:** Explore alternative branches\n\n## Tasks\n- [ ] Create tree visualization component\n- [ ] Implement decision nodes with alternatives\n- [ ] Add alignment indicators (goals, fears, wounds)\n- [ ] Show consequences of chosen path\n- [ ] Add \"what if\" exploration mode\n- [ ] Connect to MCP `npe_character_decisions` table\n- [ ] Add to NPE Dashboard\n\n## Acceptance Criteria\n- Shows decisions with 2-3 alternatives\n- Displays alignment with character traits\n- Shows consequences of choice\n- Supports alternative exploration",
      "labels": ["npe", "visualization", "enhancement", "phase-3"]
    },
    {
      "title": "Build Pacing Analyzer",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nAnalyze pacing across chapters: scene length variation, time expansion/compression, energy modulation (tension/release cycles).\n\n## Component\n`src/renderer/components/npe/PacingAnalyzer.tsx`\n\n## Features\n- **Scene length chart:** Visual representation of micro/medium/centerpiece scenes\n- **Time treatment heatmap:** Where time expands vs compresses\n- **Energy modulation graph:** Tension/release, quiet/loud, conflict/connection cycles\n- **Monotony detection:** Flags when scenes are all the same length\n- **Pacing recommendations:** Suggests where to vary rhythm\n\n## Tasks\n- [ ] Create pacing visualization component\n- [ ] Implement scene length chart\n- [ ] Add time treatment heatmap\n- [ ] Create energy modulation tracker\n- [ ] Add monotony detection alerts\n- [ ] Connect to MCP `npe_pacing_analysis` table\n- [ ] Add to NPE Dashboard\n\n## Acceptance Criteria\n- Shows scene length variation\n- Displays time expansion/compression patterns\n- Tracks energy modulation cycles\n- Detects monotonous pacing\n- Provides actionable recommendations",
      "labels": ["npe", "visualization", "enhancement", "phase-3"]
    },
    {
      "title": "Build Information Flow Graph",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nTrack when story information is revealed and whether those reveals alter character choices (NPE Rule #8: only reveal when it changes something).\n\n## Component\n`src/renderer/components/npe/InformationFlowGraph.tsx`\n\n## Features\n- **Information timeline:** What was revealed when\n- **Impact indicators:** Did this reveal alter a character's choice?\n- **Character knowledge state:** Who knows what at each point\n- **Premature reveal warnings:** Information revealed before it matters\n- **Missing impact alerts:** Reveals that didn't change anything\n\n## Tasks\n- [ ] Create information flow visualization\n- [ ] Implement reveal timeline\n- [ ] Add impact tracking (did it alter choice?)\n- [ ] Show character knowledge states\n- [ ] Add violation warnings\n- [ ] Connect to MCP `npe_information_economy` table\n- [ ] Add to NPE Dashboard\n\n## Acceptance Criteria\n- Shows information reveals over time\n- Tracks whether reveals altered choices\n- Displays character knowledge states\n- Warns about premature or impactless reveals",
      "labels": ["npe", "visualization", "enhancement", "phase-3"]
    },
    {
      "title": "Build POV Bias Tracker",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nValidate that POV (point of view) is subjective and biased. Track when POV character misreads events or notices selective sensory details.\n\n## Component\n`src/renderer/components/npe/POVBiasTracker.tsx`\n\n## Features\n- **Bias indicators:** Is POV subjective?\n- **Misreading tracker:** When does POV misinterpret events?\n- **Selective attention:** What details POV notices vs ignores\n- **Operating system reveals:** How POV character's worldview shapes interpretation\n- **Scene-by-scene POV validation**\n\n## Tasks\n- [ ] Create POV bias visualization\n- [ ] Implement subjectivity tracking\n- [ ] Add misreading detection\n- [ ] Show selective sensory detail patterns\n- [ ] Add scene validation\n- [ ] Connect to MCP `npe_pov_state` table\n- [ ] Add to NPE Dashboard\n\n## Acceptance Criteria\n- Tracks POV subjectivity per scene\n- Shows when POV misreads events\n- Displays selective attention patterns\n- Validates POV bias is present",
      "labels": ["npe", "visualization", "enhancement", "phase-3"]
    },
    {
      "title": "Build Dialogue Physics Monitor",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nValidate dialogue against NPE rules: no echolalia (mirroring previous line), subtext present, characters talking at cross-purposes when emotional.\n\n## Component\n`src/renderer/components/npe/DialoguePhysicsMonitor.tsx`\n\n## Features\n- **Echolalia detection:** Flags when character mirrors previous line\n- **Subtext analysis:** Checks for hidden meaning beneath words\n- **Cross-purpose tracker:** Detects when characters want different things\n- **Line-by-line validation:** Color-coded dialogue with violation markers\n- **Subtext suggestions:** Recommends adding layers\n\n## Tasks\n- [ ] Create dialogue validation component\n- [ ] Implement echolalia detection\n- [ ] Add subtext analysis\n- [ ] Track cross-purpose conversations\n- [ ] Create line-by-line validator\n- [ ] Connect to MCP `npe_scene_validation` table\n- [ ] Add to NPE Dashboard\n\n## Acceptance Criteria\n- Detects echolalia violations\n- Validates subtext presence\n- Shows cross-purpose conversations\n- Provides line-by-line feedback",
      "labels": ["npe", "visualization", "enhancement", "phase-3"]
    },
    {
      "title": "Build Stakes/Pressure Gauge",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nTrack how pressure escalates throughout the story. Validate that escalations reduce options, add cost, expose flaws, and push toward painful truths.\n\n## Component\n`src/renderer/components/npe/StakesPressureGauge.tsx`\n\n## Features\n- **Pressure trajectory:** Graph showing pressure from 0-100 over story\n- **Escalation validation:** Each rise must reduce options or add cost\n- **Checkpoint markers:** Major pressure moments\n- **Violation warnings:** Pressure drops without justification\n- **Multi-thread tracking:** Different pressure lines for different plots\n\n## Tasks\n- [ ] Create pressure gauge visualization\n- [ ] Implement pressure trajectory graph\n- [ ] Add escalation validation logic\n- [ ] Show checkpoint markers\n- [ ] Add multi-thread tracking\n- [ ] Connect to MCP `npe_stakes_pressure` table\n- [ ] Add to NPE Dashboard\n\n## Acceptance Criteria\n- Shows pressure escalation over time\n- Validates escalations follow NPE rules\n- Tracks multiple plot threads\n- Warns about unjustified pressure drops",
      "labels": ["npe", "visualization", "enhancement", "phase-3"]
    },
    {
      "title": "Build NPE Compliance Scorecard",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nOverall NPE compliance dashboard showing scores for all 10 rule categories and total compliance percentage.\n\n## Component\n`src/renderer/components/npe/NPEComplianceScorecard.tsx`\n\n## Features\n- **Category scores:** 10 progress bars for each NPE rule category\n- **Overall score:** Total NPE compliance percentage\n- **Violation summary:** Count of critical/warning/minor violations\n- **Quick links:** Click category to see detailed violations\n- **Trend over time:** Is compliance improving?\n\n## Example Display:\n```\nNPE Compliance: Book 1, Chapter 5\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nPlot Mechanics:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 85%\nCharacter Logic:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%\nScene Architecture:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 72%\nDialogue Physics:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 91%\nPacing:                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 83%\nPOV Physics:           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 88%\nTransitions:           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 86%\nInformation Economy:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 75%\nStakes/Pressure:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 82%\nOffstage Narrative:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 95%\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nOverall NPE Score:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 86%\n\nâš ï¸ 2 warnings found\nâŒ 1 critical violation\n```\n\n## Tasks\n- [ ] Create scorecard component\n- [ ] Implement category progress bars\n- [ ] Add overall score calculation\n- [ ] Show violation counts\n- [ ] Add drill-down links\n- [ ] Connect to MCP `npe_compliance_summary` table\n- [ ] Add to NPE Dashboard (featured widget)\n\n## Acceptance Criteria\n- Shows all 10 NPE category scores\n- Calculates overall compliance\n- Displays violation summary\n- Links to detailed violations\n- Updates in real-time as scenes are validated",
      "labels": ["npe", "visualization", "enhancement", "phase-3", "priority"]
    },
    {
      "title": "Wire Tension Graph to MCP data",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nConnect the existing Tension Axis Graph to real MCP data instead of hardcoded defaults. Pull tension data from `npe_stakes_pressure` and `plot_threads` tables.\n\n## Current State\nTension graph uses hardcoded data in `tensionGraphStore.ts`:\n- Main Plot Tension (blue)\n- Romance Subplot (pink)\n\n## Target State\n- Query MCP for plot threads\n- Each plot thread becomes a tension line\n- Tension points come from `npe_stakes_pressure` table\n- Real-time updates when scenes are validated\n\n## Tasks\n- [ ] Create MCP query hook for plot threads\n- [ ] Create MCP query hook for tension/pressure data\n- [ ] Update `tensionGraphStore.ts` to load from MCP\n- [ ] Add real-time subscription for updates\n- [ ] Migrate existing hardcoded data to MCP\n- [ ] Test with real book data\n\n## Files to Modify\n- `src/renderer/stores/tensionGraphStore.ts`\n- `src/renderer/components/charts/TensionAxisGraph.tsx`\n\n## Acceptance Criteria\n- Tension graph loads data from MCP\n- Each plot thread is a separate line\n- Updates in real-time\n- Existing functionality preserved",
      "labels": ["npe", "integration", "enhancement", "phase-4"]
    },
    {
      "title": "Create unified NPE Dashboard component",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nCreate a master NPE Dashboard that combines all 10 NPE visualizations into a single, comprehensive view.\n\n## Component\n`src/renderer/components/npe/NPEDashboard.tsx`\n\n## Layout\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  NPE Compliance Scorecard (featured)            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  Tension Graph       â”‚  Causality Chain Graph   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  Character State     â”‚  Decision Tree           â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  Pacing Analyzer     â”‚  Information Flow        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  POV Bias Tracker    â”‚  Dialogue Monitor        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  Stakes/Pressure Gauge                          â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Features\n- Responsive grid layout\n- Filter controls (book, chapter, character)\n- Export NPE report button\n- Real-time updates\n- Tab view for smaller screens\n\n## Tasks\n- [ ] Create NPEDashboard component\n- [ ] Implement responsive grid layout\n- [ ] Add global filter controls\n- [ ] Add export functionality\n- [ ] Integrate all 10 visualizations\n- [ ] Add to main app navigation\n- [ ] Create dedicated route\n\n## Acceptance Criteria\n- All 10 NPE visualizations integrated\n- Responsive layout works on all screen sizes\n- Filter controls work across all widgets\n- Export generates comprehensive NPE report",
      "labels": ["npe", "integration", "enhancement", "phase-4", "priority"]
    },
    {
      "title": "Integrate agents with NPE validation",
      "epic": "ğŸ¯ EPIC: Narrative Physics Engine (NPE) Integration",
      "body": "## Description\nUpdate writing agents (Bailey, Tessa, etc.) to validate their output against NPE rules before presenting to user.\n\n## Agents to Update\n- **Bailey (First Drafter):** Validate scenes against NPE before drafting\n- **Tessa (Continuity):** Add NPE violation checks to continuity validation\n- **Miranda (Showrunner):** Include NPE compliance in chapter readiness checks\n\n## NPE Integration Points\n\n### Bailey's Scene Writing Process\n1. Load NPE rules from Genre Pack\n2. Query character state from MCP\n3. Plan scene using NPE Scene Architecture\n4. Write prose with NPE constraints\n5. Self-validate against NPE\n6. Log causality to MCP\n\n### Tessa's Continuity Checks\n- Add NPE causality validation\n- Check character decision consistency\n- Validate scene architecture\n- Flag NPE violations alongside continuity errors\n\n### Miranda's Chapter Review\n- Include NPE compliance score\n- Block chapter approval if critical NPE violations\n- Show NPE scorecard in chapter summary\n\n## Tasks\n- [ ] Update Bailey agent with NPE validation\n- [ ] Update Tessa agent with NPE checks\n- [ ] Update Miranda agent with NPE review\n- [ ] Create NPE validation helper functions\n- [ ] Add NPE error messaging\n- [ ] Document NPE agent integration\n\n## Files to Modify\n- `.claude/agents/bailey-first-drafter.md`\n- `.claude/agents/tessa-continuity.md`\n- `.claude/agents/miranda-showrunner.md`\n\n## Acceptance Criteria\n- Agents load NPE rules from Genre Packs\n- Agents validate output against NPE\n- NPE violations reported to user\n- Agents log causality to MCP",
      "labels": ["npe", "agents", "integration", "enhancement", "phase-4", "priority"]
    }
  ]
}
