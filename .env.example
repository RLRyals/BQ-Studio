# BQ Studio - Environment Configuration
# Copy this file to .env and fill in the values

# ============================================
# MCP-Electron-App Infrastructure Connection
# ============================================
# These values come from your MCP-Electron-App repository
# Start MCP-Electron-App first, then copy these values

# Postgres Connection (via PgBouncer)
# Get this from MCP-Electron-App/.env
DATABASE_URL=postgresql://user:password@localhost:6432/bq_studio
PGBOUNCER_HOST=localhost
PGBOUNCER_PORT=6432
POSTGRES_DB=bq_studio
POSTGRES_USER=your_user
POSTGRES_PASSWORD=your_password

# ============================================
# MCP Server URLs (Local Development)
# ============================================
# When running FictionLab (MCP-Electron-App) locally on same machine
MCP_AUTHOR_SERVER_URL=http://localhost:3001
MCP_SERIES_PLANNING_SERVER_URL=http://localhost:3002
MCP_BOOK_PLANNING_SERVER_URL=http://localhost:3003
MCP_CHAPTER_PLANNING_SERVER_URL=http://localhost:3004
MCP_CHARACTER_PLANNING_SERVER_URL=http://localhost:3005
MCP_SCENE_SERVER_URL=http://localhost:3006
MCP_CORE_CONTINUITY_SERVER_URL=http://localhost:3007
MCP_REVIEW_SERVER_URL=http://localhost:3008
MCP_REPORTING_SERVER_URL=http://localhost:3009

# Database Admin Interface
MCP_DB_ADMIN_URL=http://localhost:3010

# ============================================
# MCP Server URLs (Cloudflare Tunnels)
# ============================================
# When using Claude Code Web or remote access
# Run start-cloudflare-tunnels.sh to generate these
# Uncomment and use these URLs instead of localhost URLs above
# MCP_AUTHOR_SERVER_URL=https://xxxxx.trycloudflare.com
# MCP_SERIES_PLANNING_SERVER_URL=https://xxxxx.trycloudflare.com
# MCP_BOOK_PLANNING_SERVER_URL=https://xxxxx.trycloudflare.com
# MCP_CHAPTER_PLANNING_SERVER_URL=https://xxxxx.trycloudflare.com
# MCP_CHARACTER_PLANNING_SERVER_URL=https://xxxxx.trycloudflare.com
# MCP_SCENE_SERVER_URL=https://xxxxx.trycloudflare.com
# MCP_CORE_CONTINUITY_SERVER_URL=https://xxxxx.trycloudflare.com
# MCP_REVIEW_SERVER_URL=https://xxxxx.trycloudflare.com
# MCP_REPORTING_SERVER_URL=https://xxxxx.trycloudflare.com

# ============================================
# MCP Authentication
# ============================================
# Should match MCP server authentication tokens
# Get this from MCP-Electron-App/.env
MCP_AUTH_TOKEN=your_mcp_auth_token_here

# ============================================
# AI Service Configuration
# ============================================
# For invoking Writing Team Agents
ANTHROPIC_API_KEY=your_anthropic_key_here
OPENAI_API_KEY=your_openai_key_here

# ============================================
# Application Settings
# ============================================
NODE_ENV=development
LOG_LEVEL=info

# ============================================
# Setup Instructions
# ============================================
# 1. Start MCP-Electron-App first:
#    cd RYALS/MCP-Electron-App
#    npm start (or docker-compose up)
#
# 2. Copy connection details from MCP-Electron-App/.env:
#    - DATABASE_URL
#    - MCP_AUTH_TOKEN
#
# 3. Verify Postgres is accessible:
#    psql -h localhost -p 6432 -U your_user -d bq_studio
#
# 4. Verify MCP servers are running:
#    curl http://localhost:3001/health (author-server)
#    curl http://localhost:3002/health (series-planning-server)
#    curl http://localhost:3003/health (book-planning-server)
#    # etc. through port 3009
#    # DB Admin interface at http://localhost:3010
#
# 5. Start BQ Studio:
#    npm run dev
